{UTF-8}

pprofile : ptype, ppriority, pwidth, pextra ~~|
priority curve: fixed, rectangular, triangular, normal, exponential ~~|
demander : (d1-d2) ~~|
supplier : (s1-s3) ~~|

demand priority vector[priority curve,demander,ptype] =
  0,0; 1,1; 2,2; 3,3; 4,4; ~~|
demand priority vector[priority curve,demander,ppriority] =
  1,2; 1,2; 1,2; 1,2; 1,2; ~~|
demand priority vector[priority curve,demander,pwidth] = 1 ~~|
demand priority vector[priority curve,demander,pextra] = 0 ~~|

demand scale = (Time - INITIAL TIME) / (FINAL TIME - INITIAL TIME) ~~|
reference demand[priority curve,demander] =
  500,300; 500,300; 500,300; 500,300; 500,300; ~~|
demand satiation[priority curve,demander] =
  demand scale * reference demand[priority curve,demander] ~~|

supply priority vector[priority curve,supplier,ptype] =
  0,0,0; 1,1,1; 2,2,2; 3,3,3; 4,4,4; ~~|
supply priority vector[priority curve,supplier,ppriority] =
  1,2,3; 1,2,3; 1,2,3; 1,2,3; 1,2,3; ~~|
supply priority vector[priority curve,supplier,pwidth] = 1 ~~|
supply priority vector[priority curve,supplier,pextra] = 0 ~~|

supply capacity[priority curve,supplier] =
  200,300,450; 200,300,450; 200,300,450; 200,300,450; 200,300,450; ~~|

market price[priority curve] = FIND MARKET PRICE(
  demand satiation[priority curve,d1],
  demand priority vector[priority curve,d1,ptype],
  supply capacity[priority curve,s1],
  supply priority vector[priority curve,s1,ptype]) ~~~:SUPPLEMENTARY|

amount supplied[priority curve,supplier] = SUPPLY AT PRICE(
  supply capacity[priority curve,supplier],
  supply priority vector[priority curve,supplier,ptype],
  market price[priority curve]) ~~~:SUPPLEMENTARY|

amount demanded[priority curve,demander] = DEMAND AT PRICE(
  demand satiation[priority curve,demander],
  demand priority vector[priority curve,demander,ptype],
  market price[priority curve]) ~~~:SUPPLEMENTARY|

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
	|

INITIAL TIME = 0 ~~|
FINAL TIME = 12 ~~|
TIME STEP = 0.125 ~~|
SAVEPER = TIME STEP ~~|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$-1--1--1,0,|12||-1--1--1|-1--1--1|-1--1--1|-1--1--1|-1--1--1|96,96,100,0
///---\\\
:L<%^E!@
1:allocate_price.vdfx
4:Time
5:amount demanded[priority curve,demander]
6:d1
6:fixed
6:ptype
6:s1
9:allocate_price
19:100,0
24:0
25:12
26:12
57:1
54:0
55:0
82:1
86:0
59:0
56:0
58:0
71:0
110:0
111:0
44:0
46:0
45:0
49:0
50:0
51:
52:
53:
43:allocate_price.dat
47:
48:
23:0
15:0,0,0,0,0,0
27:0,
34:0,
42:0
72:0
73:0
95:0
96:0
97:0
77:0
78:0
102:0
93:0
94:0
92:0
91:0
90:0
87:0
75:
43:allocate_price.dat
103:8,8,8,3,8
105:0,0,0,0,0,0,0,0,0,0
104:Courier|12||0-0-0|0-0-0|-1--1--1|0-0-255|192-192-192|-1--1--1
